<?xml version="1.0" encoding="UTF-8"?>
<Defs>

    <AbilityDef>
        <defName>BGM_BlindingSpores</defName>
        <label>blinding spores</label>
        <description>Release compressed smoke from fungal cap gills. Smoke-like spores reduces the accuracy of any shot fired through it, and prevents turrets from locking on entirely.</description>
        <iconPath>UI/Ability-Genes/Blinding_Spores</iconPath>
        <cooldownTicksRange>900000</cooldownTicksRange><!-- 15 days -->
        <targetRequired>false</targetRequired>
        <hostile>false</hostile>
        <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
        <verbProperties>
            <verbClass>Verb_CastAbility</verbClass>
            <warmupTime>1</warmupTime>
            <range>3.9</range>
            <drawAimPie>false</drawAimPie>
            <targetParams>
                <canTargetSelf>true</canTargetSelf>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="CompProperties_AbilitySmokepop">
                <smokeRadius>3.5</smokeRadius>
                <clamorType>Ability</clamorType>
                <clamorRadius>15</clamorRadius>
            </li>
        </comps>
    </AbilityDef>

    <AbilityDef>
        <defName>BGM_FirefoamSpores</defName>
        <label>foam spores</label>
        <description>Spray thick fire-retardant foam from specialized gills in the fungal cap. The foam will cover a small area and extinguish any fire it touches.</description>
        <iconPath>UI/Ability-Genes/Firefoam_Spores</iconPath>
        <charges>3</charges>
        <cooldownTicksRange>30000</cooldownTicksRange>
        <warmupStartSound>FoamSpray_Warmup</warmupStartSound>
        <hostile>false</hostile>
        <sendMessageOnCooldownComplete>true</sendMessageOnCooldownComplete>
        <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
        <verbProperties>
            <verbClass>Verb_CastAbility</verbClass>
            <range>4.9</range>
            <warmupTime>1</warmupTime>
            <soundCast>FoamSpray_Resolve</soundCast>
            <targetParams>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="CompProperties_AbilitySprayLiquid">
                <projectileDef>Proj_Foam_Ability</projectileDef>
                <numCellsToHit>9</numCellsToHit>
                <sprayEffecter>FoamSpray_Directional</sprayEffecter>
            </li>
        </comps>
    </AbilityDef>

    <AbilityDef Name="BGM_GeneAbility_HediffGivingSpores" Abstract="True">
        <targetRequired>false</targetRequired>
        <hostile>false</hostile>
        <showWhenDrafted>true</showWhenDrafted>
        <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
        <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
        <verbProperties>
            <verbClass>Verb_CastAbility</verbClass>
            <warmupTime>1</warmupTime>
            <range>3.9</range>
            <drawAimPie>false</drawAimPie>
            <targetParams>
                <canTargetSelf>true</canTargetSelf>
            </targetParams>
        </verbProperties>
    </AbilityDef>

    <AbilityDef ParentName="BGM_GeneAbility_HediffGivingSpores">
        <defName>BGM_HealingSpores</defName>
        <label>healing spores</label>
        <description>This fungal gene allows the user to produce a puff of spores from specialized organs that induce faster healing in those around them.</description>
        <iconPath>UI/Ability-Genes/Healing_Spores</iconPath>
        <cooldownTicksRange>900000</cooldownTicksRange><!-- 15 days -->
        <comps>
            <li Class="BiomesGeneticsMushkin.CompProperties_HediffGiverArea">
                <hediffDef>BGM_HealingSpores</hediffDef>
                <range>10</range>
                <effecter>BGM_SporePuff</effecter>
                <xenotypesImmuneToDebuff />
            </li>
        </comps>
    </AbilityDef>

    <AbilityDef ParentName="BGM_GeneAbility_HediffGivingSpores">
        <defName>BGM_PsySpores</defName>
        <label>psy spores</label>
        <description>This fungal gene allows the user to produce a puff of spores from specialized organs that increase the psychic sensitivity of those around them.</description>
        <iconPath>UI/Ability-Genes/Psy_Spores</iconPath>
        <cooldownTicksRange>900000</cooldownTicksRange><!-- 15 days -->
        <comps>
            <li Class="BiomesGeneticsMushkin.CompProperties_HediffGiverArea">
                <hediffDef>BGM_PsySpores</hediffDef>
                <range>10</range>
                <effecter>BGM_SporePuff</effecter>
                <xenotypesImmuneToDebuff />
            </li>
        </comps>
    </AbilityDef>

    <AbilityDef ParentName="BGM_GeneAbility_HediffGivingSpores">
        <defName>BGM_RapportSpores</defName>
        <label>rapport spores</label>
        <description>This fungal gene allows the user to produce a puff of spores from specialized organs that increase the social abilities of those around them.</description>
        <iconPath>UI/Ability-Genes/Rapport_Spores</iconPath>
        <cooldownTicksRange>900000</cooldownTicksRange><!-- 15 days -->
        <comps>
            <li Class="BiomesGeneticsMushkin.CompProperties_HediffGiverArea">
                <hediffDef>BGM_RapportSpores</hediffDef>
                <range>10</range>
                <effecter>BGM_SporePuff</effecter>
                <xenotypesImmuneToDebuff />
            </li>
        </comps>
    </AbilityDef>

    <AbilityDef>
        <defName>BGM_ToxSpores</defName>
        <label>tox spores</label>
        <description>The fungus within the host allows the carrier to produce a cloud of toxic gas-like spores in a cloud nearby.</description>
        <iconPath>UI/Ability-Genes/Tox_Spores</iconPath>
        <charges>3</charges>
        <cooldownTicksRange>30000</cooldownTicksRange>
        <warmupStartSound>FoamSpray_Warmup</warmupStartSound>
        <hostile>false</hostile>
        <sendMessageOnCooldownComplete>true</sendMessageOnCooldownComplete>
        <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
        <verbProperties>
            <verbClass>Verb_CastAbility</verbClass>
            <range>4.9</range>
            <warmupTime>1</warmupTime>
            <soundCast>FoamSpray_Resolve</soundCast>
            <targetParams>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="CompProperties_AbilitySprayLiquid">
                <projectileDef>BGM_Proj_ToxSpores</projectileDef>
                <numCellsToHit>9</numCellsToHit>
                <sprayEffecter>FoamSpray_Directional</sprayEffecter>
            </li>
        </comps>
    </AbilityDef>

    <AbilityDef>
        <defName>BGM_SproutSpores</defName>
        <label>sprout spores</label>
        <description>The fungi that live within the host also form a symbiosis with other fungi, allowing them to sprout normal fungi around them, some more useful than others.</description>
        <iconPath>UI/Ability-Genes/Sprout_Spores</iconPath>
        <cooldownTicksRange>900000</cooldownTicksRange><!-- 15 days -->
        <targetRequired>false</targetRequired>
        <hostile>false</hostile>
        <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
        <verbProperties>
            <verbClass>Verb_CastAbility</verbClass>
            <warmupTime>1</warmupTime>
            <range>3.9</range>
            <drawAimPie>false</drawAimPie>
            <targetParams>
                <canTargetSelf>true</canTargetSelf>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="BiomesGeneticsMushkin.CompProperties_SpawnMushrooms">
                <range>3.5</range>
                <plantsToSpawn>
                    <li MayRequire="Ludeon.RimWorld.Ideology">Plant_Nutrifungus</li>
                    <li MayRequire="Ludeon.Rimworld.Odyssey">Boomshroom</li>
					<li>Glowstool</li>
                </plantsToSpawn>
            </li>
        </comps>
    </AbilityDef>

    <AbilityDef ParentName="AbilityTouchBase">
        <defName>BGM_ResurrectionMycelia</defName>
        <label>resurrection mycelia</label>
        <description>The fungi that form symbiosis with the carriers of this gene allow them to resurrect those they touch if they are still fresh. It does not always work out very well, however.</description>
        <iconPath>UI/Ability-Genes/Resurrection_Spores</iconPath>
        <stunTargetWhileCasting>true</stunTargetWhileCasting>
        <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
        <warmupMote>Mote_CoagulateStencil</warmupMote>
        <warmupEffecter>Coagulate</warmupEffecter>
        <warmupStartSound>Coagulate_Cast</warmupStartSound>
        <jobDef>CastAbilityOnThingMelee</jobDef>
        <displayOrder>400</displayOrder>
        <hostile>false</hostile>
        <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
        <verbProperties>
            <verbClass>Verb_CastAbilityTouch</verbClass>
            <drawAimPie>false</drawAimPie>
            <range>-1</range>
            <warmupTime>1</warmupTime>
            <targetParams>
                <canTargetCorpses>true</canTargetCorpses>
                <onlyTargetCorpses>true</onlyTargetCorpses>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="BiomesGeneticsMushkin.CompProperties_ResurrectionSpores" />
        </comps>
    </AbilityDef>

    <AbilityDef ParentName="AbilityTouchBase">
        <defName>BGM_FungalReanimation</defName>
        <label>fungal reanimation</label>
        <description>The fungi within the carriers of this gene allow them to reanimate the dead as fungal zombies. The fungal zombies slowly deteriorate as the fungi consume their body for energy.</description>
        <iconPath>UI/Ability-Genes/FungalReanimation</iconPath>
        <stunTargetWhileCasting>true</stunTargetWhileCasting>
        <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
        <warmupMote>Mote_CoagulateStencil</warmupMote>
        <warmupEffecter>Coagulate</warmupEffecter>
        <warmupStartSound>Coagulate_Cast</warmupStartSound>
        <jobDef>CastAbilityOnThingMelee</jobDef>
        <displayOrder>400</displayOrder>
        <hostile>false</hostile>
        <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
        <verbProperties>
            <verbClass>Verb_CastAbilityTouch</verbClass>
            <drawAimPie>false</drawAimPie>
            <range>-1</range>
            <warmupTime>1</warmupTime>
            <targetParams>
                <canTargetCorpses>true</canTargetCorpses>
                <onlyTargetCorpses>true</onlyTargetCorpses>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="BiomesGeneticsMushkin.CompProperties_FungalReanimation">
                <reanimationGene>BGM_FungalUndead</reanimationGene>
            </li>
        </comps>
    </AbilityDef>

    <AbilityDef>
        <defName>BGM_FruitingBirth</defName>
        <label>fruiting birth</label>
        <description>The fungi that form a symbiosis the carriers of this gene allows those of either sex to produce a genetic copy of themselves from their flesh without pregnancy.</description>
        <iconPath>UI/Genes/Gene_BuddingBirth</iconPath>
        <cooldownTicksRange>900000</cooldownTicksRange><!-- 15 days -->
        <targetRequired>false</targetRequired>
        <hostile>false</hostile>
        <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
        <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
        <showWhenDrafted>false</showWhenDrafted>
        <verbProperties>
            <verbClass>Verb_CastAbility</verbClass>
            <warmupTime>1</warmupTime>
            <range>-1</range>
            <drawAimPie>false</drawAimPie>
            <targetParams>
                <canTargetSelf>true</canTargetSelf>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="BiomesGeneticsMushkin.CompProperties_BuddingBirth">
                <hediffWhenUsed>BGM_FruitingBirthExhaustion</hediffWhenUsed>
            </li>
        </comps>
    </AbilityDef>

    <AbilityDef ParentName="AbilityTouchBase">
        <defName>BGM_CasteSwap</defName>
        <label>caste swap</label>
        <description>The dominant strain of fungi within the user allows them to alter the expression of the fungi within others.</description>
        <iconPath>UI/Ability-Genes/CasteSwap</iconPath>
        <cooldownTicksRange>900000</cooldownTicksRange><!-- 15 days -->
        <hostile>false</hostile>
        <jobDef>CastAbilityOnThingMelee</jobDef>
        <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
        <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
        <showWhenDrafted>false</showWhenDrafted>
        <verbProperties>
            <verbClass>Verb_CastAbilityTouch</verbClass>
            <drawAimPie>false</drawAimPie>
            <range>-1</range>
            <warmupTime>1</warmupTime>
            <targetParams>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetAnimals>false</canTargetAnimals>
                <canTargetMechs>false</canTargetMechs>
                <canTargetEntities>false</canTargetEntities>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="BiomesGeneticsMushkin.CompProperties_CasteSwap">
                <hediffToGive>BGM_SwitchCasteExhaustion</hediffToGive>
                <allowedXenotypes>
                    <li>BGM_Mushkin</li>
                    <li>BGM_Sovereign</li>
                    <li>BGM_Socialite</li>
                    <li>BGM_Necrospores</li>
                    <li>BGM_Battalions</li>
                    <li>BGM_MyceliaTender</li>
                </allowedXenotypes>
            </li>
        </comps>
    </AbilityDef>

    <AbilityDef ParentName="AbilityTouchBase">
        <defName>BGM_InfectiousSpores</defName>
        <label>infectious spores</label>
        <description>The user extends fungal threads into another human, seeding the fungus within them and turning them into a mushkin.</description>
        <iconPath>UI/Ability-Genes/Infectious_Spores</iconPath>
        <cooldownTicksRange>900000</cooldownTicksRange><!-- 15 days -->
        <hostile>false</hostile>
        <jobDef>CastAbilityOnThingMelee</jobDef>
        <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
        <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
        <showWhenDrafted>false</showWhenDrafted>
        <verbProperties>
            <verbClass>Verb_CastAbilityTouch</verbClass>
            <drawAimPie>false</drawAimPie>
            <range>-1</range>
            <warmupTime>1</warmupTime>
            <targetParams>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetAnimals>false</canTargetAnimals>
                <canTargetMechs>false</canTargetMechs>
                <canTargetEntities>false</canTargetEntities>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="BiomesGeneticsMushkin.CompProperties_InfectiousSpores">
                <xenotypeToTransform>BGM_Mushkin</xenotypeToTransform>
                <geneOverriddenByParasitism>BGM_BaseCap</geneOverriddenByParasitism> <!-- Dummy -->
                <parasitismGene>BGM_FungalParasitism</parasitismGene>
                <parasitismChance>0.1</parasitismChance>
            </li>
        </comps>
    </AbilityDef>

    <AbilityDef ParentName="AbilityTouchBase">
        <defName>BGM_FungalParasitism</defName>
        <label>fungal parasitism</label>
        <description>The user extends fungal threads into another human, seeding the fungus within them and turning them into a parasitic-variant mushkin.</description>
        <iconPath>UI/Genes/Gene_FungalParasitism</iconPath>
        <cooldownTicksRange>900000</cooldownTicksRange><!-- 15 days -->
        <hostile>false</hostile>
        <jobDef>CastAbilityOnThingMelee</jobDef>
        <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
        <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
        <showWhenDrafted>false</showWhenDrafted>
        <verbProperties>
            <verbClass>Verb_CastAbilityTouch</verbClass>
            <drawAimPie>false</drawAimPie>
            <range>-1</range>
            <warmupTime>1</warmupTime>
            <targetParams>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetAnimals>false</canTargetAnimals>
                <canTargetMechs>false</canTargetMechs>
                <canTargetEntities>false</canTargetEntities>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="BiomesGeneticsMushkin.CompProperties_FungalParasitism">
                <resistantXenotypes>
                    <li>BGM_Mushkin</li>
                    <li>BGM_Sovereign</li>
                    <li>BGM_Socialite</li>
                    <li>BGM_Necrospores</li>
                    <li>BGM_Battalions</li>
                    <li>BGM_MyceliaTender</li>
                </resistantXenotypes>
                <parasitismGene>BGM_FungalParasitism</parasitismGene>
                <resistanceChance>0.1</resistanceChance>
            </li>
        </comps>
    </AbilityDef>

  <AbilityDef ParentName="AbilityTouchBase">
    <defName>BMT_FungalCoagulate</defName>
    <label>fungal coagulation</label>
    <description>Use specialized fungal organs to patch up bleeding wounds.</description>
    <iconPath>UI/Icons/Genes/Gene_Coagulate</iconPath>
    <stunTargetWhileCasting>true</stunTargetWhileCasting>
    <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
    <warmupMote>Mote_CoagulateStencil</warmupMote>
    <warmupEffecter>Coagulate</warmupEffecter>
    <warmupStartSound>Coagulate_Cast</warmupStartSound>
    <jobDef>CastAbilityOnThingMelee</jobDef>
    <displayOrder>400</displayOrder>
    <hostile>false</hostile>
    <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
    <verbProperties>
      <verbClass>Verb_CastAbilityTouch</verbClass>
      <drawAimPie>false</drawAimPie>
      <range>-1</range>
      <warmupTime>1</warmupTime>
      <targetParams>
        <canTargetAnimals>true</canTargetAnimals>
        <canTargetSelf>false</canTargetSelf>
        <canTargetBuildings>false</canTargetBuildings>
        <canTargetMechs>false</canTargetMechs>
        <canTargetBloodfeeders>true</canTargetBloodfeeders>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilityCoagulate">
        <tendQualityRange>0.4~0.8</tendQualityRange>
      </li>
      <li Class="CompProperties_AbilityRequiresCapacity">
        <capacity>Manipulation</capacity>
      </li>
    </comps>
  </AbilityDef>
</Defs>